
<%= tinymce %>

<%= f.submit nil, class: "btn btn-default" %>
<% unless @hackathon.new_record? %>
  <%= link_to "View Hackathon", nice_hackathon_path(@hackathon), class: "btn btn-primary" %>
<% end %>

<hr />


<div class="row">
  <div class="col-md-9">

    <hr>
      <h3>Essential Information</h3>
    <hr>

    <div class="form-group">
      <%= f.label :title %>
      <%= f.text_field :title, class: "form-control", placeholder: "" %>
    </div>

    <div class="form-group">
      <%= f.label :url, "Website" %>
      <%= f.text_field :url, class: "form-control", placeholder: "Enter your hackathon's registration website" %>
    </div>

    <div class="form-group">
      <%= f.label :city_string, "City" %>
      <%= f.text_field :city_string, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :country %>
      <%= f.text_field :country, class: "form-control" %>
    </div>

    <hr>
      <h3>Location Information</h3>
    <hr>

    <div class="form-group">
      <%= f.label :venue %>
      <%= f.text_field :venue, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :address %>
      <%= f.text_field :address, class: "form-control" %>
    </div>

    <hr>
      <h3>Date and Time</h3>
    <hr>

    <div class="row">
      <div class='col-md-6'>
        <div class="form-group">
          <div style="padding-bottom:5px;">Currently: <text style="color:lightgrey;"><%= @hackathon.date_start.strftime("%A, %B %d %Y, %I:%M %p") %></text></div>
            <div class='input-group date' id='datetimepicker6'>
                <%= f.datetime_field :date_start, class: "form-control", :id => "datetime_start" %>
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                </span>
            </div>
        </div>
      </div>
      <div class='col-md-6'>
          <div class="form-group">
            <div style="padding-bottom:5px;">Currently: <text style="color:lightgrey;"><%= @hackathon.date_end.strftime("%A, %B %d %Y, %I:%M %p") %></text></div>
              <div class='input-group date' id='datetimepicker7'>
                  <%= f.datetime_field :date_end, class: "form-control", :id => "datetime_end" %>
                  <span class="input-group-addon">
                      <span class="glyphicon glyphicon-calendar"></span>
                  </span>
              </div>
          </div>
      </div>
    </div>
  
    
    <div class="form-group">
      <label>Categories</label>
      <%= hidden_field_tag "hackathon[category_ids][]", nil %>
      <% Category.order(:name).in_groups_of(3, false).each do |grouped_categories| %>
        <div class="row">
          <% grouped_categories.each do |category| %>
            <div class="col-md-4">
              <div class="checkbox">
                <span style="background-color: #<%= category.primary_hex_color %>; width: 30px; height: 10px; border-radius: 3px; display: inline-block;">
                </span>
                <label style="color:black;">
                  <%= check_box_tag "hackathon[category_ids][]", category.id, @hackathon.category_ids.include?(category.id) %>
                  <%= category.name %>
                </label>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="row">
      <div class="form-group">
        <%= f.label :description %>
        <%= f.text_area :description, rows: 15, class: "form-control tinymce" %>
      </div>
    </div>

    <div class="row">
      <div class="form-group">
        <%= f.label :challenge %>
        <%= f.text_area :challenge, class: "form-control tinymce" %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :awards %>
      <%= f.text_area :awards, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :schedule %>
      <%= f.text_area :schedule, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :twitter_hashtag, "Hashtag for sharing on Twitter" %>
      <%= f.text_field :twitter_hashtag, class: "form-control", placeholder: "Please enter without the '#'" %>
    </div>
    
    <div class="form-group">
      <%= f.label :image_url, "Link to your hackathon logo/image" %>
      <%= f.text_field :image_url, class: "form-control" %>
    </div>
    
    <hr />
    
    <%= f.submit nil, class: "btn btn-default" %>
    
  </div>
  
  <div class="col-md-3">
    <div class="form-group">
      <label>Sponsors</label>
      <%= hidden_field_tag "hackathon[sponsor_ids][]", nil %>
      <% Sponsor.all.order(:twitter_handle).each do |sponsor| %>
        <div class="checkbox">
          <label style="color:black;">
            <%= check_box_tag "hackathon[sponsor_ids][]", sponsor.id, @hackathon.sponsor_ids.include?(sponsor.id) %>
            <%= sponsor.name %>
          </label>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script type="text/javascript">
$(function () {
    $('#datetimepicker6').datetimepicker({
        format: "dddd, MMMM DD YYYY, h:mm A"
    });
    $('#datetimepicker7').datetimepicker({
        useCurrent: false, //Important! See issue #1075
        format: "dddd, MMMM DD YYYY, h:mm A"
    });
    $("#datetimepicker6").on("dp.change", function (e) {
        $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
    });
    $("#datetimepicker7").on("dp.change", function (e) {
        $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
    });
});
</script>